/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
alter table Following drop constraint FKA519127127E831E2
alter table Following drop constraint FKA519127136773587
alter table Tweet drop constraint FK4D7565143366646
drop table Following if exists
drop table RegisteredAccount if exists
drop table Tweet if exists
drop table TwitterAccount if exists
create table Following (owner integer not null, following integer not null)
create table RegisteredAccount (id integer generated by default as identity (start with 1), accessToken varchar(200), accessTokenSecret varchar(200), screenName varchar(300), primary key (id), unique (screenName))
create table Tweet (id integer generated by default as identity (start with 1), text varchar(1024), timestamp timestamp, twitterAccountId integer, primary key (id))
create table TwitterAccount (id integer generated by default as identity (start with 1), followStartTs timestamp, screenName varchar(300), twitterId integer, primary key (id), unique (screenName), unique (twitterId))
alter table Following add constraint FKA519127127E831E2 foreign key (following) references TwitterAccount
alter table Following add constraint FKA519127136773587 foreign key (owner) references RegisteredAccount
alter table Tweet add constraint FK4D7565143366646 foreign key (twitterAccountId) references TwitterAccount
INSERT INTO REGISTEREDACCOUNT VALUES(1,'535654810-wAAJzUxQIIkDm1DqSDnA8mZOGUzT9ktutnIjAj5P','HxpZbRwi20yqVYLA6USJsgGbC9PO4u8Ve5EIw8qt53A','jiaan23')
COMMIT
